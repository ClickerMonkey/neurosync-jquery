/* rekord-jquery 1.5.6 - A rekord binding to jquery - implementing Rekord.rest by Philip Diffenderfer */
!function(e,t){"function"==typeof define&&define.amd?define(["rekord","jQuery"],function(n,i){return t(e,n,i)}):"object"==typeof module&&module.exports?module.exports=t(global,require("rekord"),require("jQuery")):e.Rekord=t(e,e.Rekord,e.jQuery)}(this,function(e,t,n,i){function r(e){this.database=e}function u(e){return e.api?new r(e):j.call(this,e)}function o(e){n.ajax(e)}function s(e,t){return t?e.api+t.$key():e.api}var a="undefined"!=typeof window?window:e,c=t.noop,d=t.transfer,l=t.format,f=t.isFormatInput,h=t.isEmpty,p=t.isObject,j=t.rest;return r.prototype={removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)?e.substring(0,e.length-1):e},buildURL:function(e){return this.removeTrailingSlash(t.jQuery.buildURL(this.database,e))},all:function(e,t,n){this.execute("GET",null,i,this.buildURL(),e,t,n,[])},get:function(e,t,n,r){this.execute("GET",e,i,this.buildURL(e),t,n,r)},create:function(e,t,n,i,r){this.execute("POST",e,t,this.buildURL(),n,i,r,{})},update:function(e,t,n,i,r){this.execute("PUT",e,t,this.buildURL(e),n,i,r,{})},remove:function(e,t,n,r){this.execute("DELETE",e,i,this.buildURL(e),t,n,r,{})},query:function(e,t,n,i,r){var u=h(t)?"GET":"POST";this.execute(u,null,t,e,n,i,r)},encode:function(e,t){var n,i=[];for(var n in e)if(e.hasOwnProperty(n)){var r=t?t+"["+n+"]":n,u=e[n];i.push(p(u)?this.encode(u,r):a.encodeURIComponent(r)+"="+a.encodeURIComponent(u))}return i.join("&")},execute:function(e,n,i,r,u,o,s,a){if(t.debug(t.Debugs.REST,this,e,r,i),t.forceOffline)s(a,0);else{var c=function(e,t,n){o(e)},h=function(e,t,n){s(null,e.status)},j=d(t.jQuery.vars,d(n,{})),y=d(t.jQuery.options,{method:e,data:i,url:r,success:c,error:h,cache:!1,dataType:"json"});if(p(u)){if(d(y,u),p(u.params)){var b=this.encode(u.params),R=y.url.indexOf("?");y.url+=-1===R?"?":"&",y.url+=b}p(u.vars)&&d(u.vars,j)}t.jQuery.adjustOptions(y,this.database,e,n,i,r,j,u,o,s),f(y.url)&&(y.url=l(y.url,j)),t.jQuery.ajax(y)}}},t.Rests.jQuery=u,t.setRest(u,!0),t.jQuery={rest:u,options:{},vars:{},adjustOptions:c,ajax:o,buildURL:s,RestClass:r},t});
//# sourceMappingURL=rekord-jquery.min.js.map
